{% extends 'core/base_main.html' %}
{% load static %}
{% block title %}Explore â€¢ Instagram{% endblock %}

{% block content %}
<div class="explore-container">
    <div class="explore-grid">
        {% for post in posts %}
        <div class="explore-item {% cycle 'large' 'medium' 'small' 'medium' 'small' 'large' 'small' 'medium' 'large' %}">
            <a href="{% url 'core:post_detail' post.id %}" class="explore-link">
                {% if post.image %}
                    <img src="{{ post.image.url }}" alt="{{ post.alt_text|default:'Post by '}}{{ post.user.username }}" class="explore-image">
                {% elif post.video %}
                    <video src="{{ post.video.url }}" class="explore-video" muted loop playsinline></video>
                {% else %}
                    <img src="{% static 'images/placeholder.png' %}" alt="No media available" class="explore-image">
                {% endif %}
            </a>
            <div class="explore-overlay">
                <div class="explore-stats">
                    <span class="explore-stat">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="white">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                        </svg>
                        {{ post.likes_count }}
                    </span>
                    <span class="explore-stat">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="white">
                            <path d="M21 11.5a8.38 8.38 0 0 1-8.5 7 8.38 8.38 0 0 1-8.5-7 8.38 8.38 0 0 1 8.5-7 8.38 8.38 0 0 1 8.5 7z"/>
                        </svg>
                        {{ post.comments_count }}
                    </span>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="no-posts">
            <h2>No posts to explore</h2>
            <p>When people share posts, they'll appear here.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}